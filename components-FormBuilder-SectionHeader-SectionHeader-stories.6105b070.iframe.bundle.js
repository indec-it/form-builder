"use strict";(self.webpackChunk_indec_form_builder=self.webpackChunk_indec_form_builder||[]).push([[675],{"./src/components/FormBuilder/SectionHeader/SectionHeader.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,WithAnswers:()=>WithAnswers,WithIntroduction:()=>WithIntroduction,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _SectionHeader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/FormBuilder/SectionHeader/SectionHeader.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const __WEBPACK_DEFAULT_EXPORT__={title:"SectionHeader",component:_SectionHeader__WEBPACK_IMPORTED_MODULE_1__.A,argTypes:{backgroundColor:{control:"color"}}};var section={id:1,name:"S1",label:"SecciÃ³n 1",multiple:!1,questions:[{id:1,label:"Write your name",name:"S1P1",number:"1",type:1,options:[],validations:[],userVarName:"s1p1"},{id:1,label:"Write your age",name:"S1P2",number:"1",type:2,options:[],validations:[],userVarName:"s1p1"}],headers:[{id:1,question:1}]};function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_SectionHeader__WEBPACK_IMPORTED_MODULE_1__.A,_objectSpread({section,onView:function onView(){},onEdit:function onEdit(){},onDelete:function onDelete(){},sectionsLength:1,isReadOnly:!1},args))}var Basic=Template.bind({});Basic.args={isSurvey:!0,values:{S1P1:{id:1,answer:{value:""}},S1P2:{id:2,answer:{value:""}}}};var WithAnswers=Template.bind({});WithAnswers.args={isSurvey:!0,values:{S1P1:{id:1,answer:{value:"My name"}},S1P2:{id:2,answer:{value:"My age"}}}};var WithIntroduction=Template.bind({});WithIntroduction.args={isSurvey:!0,values:{S1P1:{id:1,answer:{value:""}},S1P2:{id:2,answer:{value:""}}},section:_objectSpread(_objectSpread({},section),{},{introduction:"this is an introduction text"})};const __namedExportsOrder=["Basic","WithAnswers","WithIntroduction"]},"./src/components/FormBuilder/SectionHeader/SectionHeader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SectionHeader_SectionHeader});var Stack=__webpack_require__("./node_modules/@mui/material/Stack/Stack.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),questionTypes=__webpack_require__("./src/constants/questionTypes.js");__webpack_require__("./src/utils/propTypes/section.js");const defaultMessages_UNANSWERED="Sin respuesta.";const utils_getSelectedOptionLabel=function getSelectedOptionLabel(options,selectedOption){var _options$find,key=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return(null===(_options$find=options.find((function(option){return option[key]===selectedOption})))||void 0===_options$find?void 0:_options$find.label)||defaultMessages_UNANSWERED};var IconButton=__webpack_require__("./node_modules/@mui/material/IconButton/IconButton.js"),ArrowUpward=__webpack_require__("./node_modules/@mui/icons-material/ArrowUpward.js"),ArrowDownward=__webpack_require__("./node_modules/@mui/icons-material/ArrowDownward.js"),Delete=__webpack_require__("./node_modules/@mui/icons-material/Delete.js"),Edit=__webpack_require__("./node_modules/@mui/icons-material/Edit.js"),Visibility=__webpack_require__("./node_modules/@mui/icons-material/Visibility.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ActionButtons(_ref){var isSectionMultiple=_ref.isSectionMultiple,sectionsLength=_ref.sectionsLength,onEdit=_ref.onEdit,onDelete=_ref.onDelete,onView=_ref.onView,isReadOnly=_ref.isReadOnly,onMoveUp=_ref.onMoveUp,onMoveDown=_ref.onMoveDown,position=_ref.position,showEditButton=_ref.showEditButton;return(0,jsx_runtime.jsxs)(Stack.A,{direction:"row",spacing:1,children:[(0,jsx_runtime.jsx)(IconButton.A,{"data-testid":"read-only-button",color:"warning",onClick:onView,children:(0,jsx_runtime.jsx)(Visibility.A,{})}),!isReadOnly&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sectionsLength>1&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[onMoveUp&&position>0&&(0,jsx_runtime.jsx)(IconButton.A,{"data-testid":"move-up-button",color:"primary",onClick:onMoveUp,children:(0,jsx_runtime.jsx)(ArrowUpward.A,{})}),onMoveDown&&position<sectionsLength-1&&(0,jsx_runtime.jsx)(IconButton.A,{"data-testid":"move-down-button",color:"primary",onClick:onMoveDown,children:(0,jsx_runtime.jsx)(ArrowDownward.A,{})})]}),showEditButton&&(0,jsx_runtime.jsx)(IconButton.A,{"data-testid":"edit-button",color:"primary",onClick:onEdit,children:(0,jsx_runtime.jsx)(Edit.A,{})}),isSectionMultiple&&sectionsLength>1&&(0,jsx_runtime.jsx)(IconButton.A,{"data-testid":"delete-button",color:"error",onClick:onDelete,children:(0,jsx_runtime.jsx)(Delete.A,{})})]})]})}ActionButtons.propTypes={},ActionButtons.defaultProps={onMoveDown:void 0,onMoveUp:void 0};const ActionButtons_ActionButtons=ActionButtons;ActionButtons.__docgenInfo={description:"",methods:[],displayName:"ActionButtons",props:{onMoveDown:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},onMoveUp:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},onEdit:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},onView:{description:"",type:{name:"func"},required:!0},sectionsLength:{description:"",type:{name:"number"},required:!0},position:{description:"",type:{name:"number"},required:!0},isReadOnly:{description:"",type:{name:"bool"},required:!0},isSectionMultiple:{description:"",type:{name:"bool"},required:!0},showEditButton:{description:"",type:{name:"bool"},required:!0}}};const SectionHeader_ActionButtons=ActionButtons_ActionButtons;function Introduction(_ref){var introduction=_ref.introduction;return introduction?/<[^>]+>/g.test(introduction)?(0,jsx_runtime.jsx)(Typography.A,{"data-testid":"introduction",fontWeight:"bold",color:"gray",whiteSpace:"pre-line",dangerouslySetInnerHTML:{__html:introduction}}):(0,jsx_runtime.jsx)(Typography.A,{"data-testid":"introduction",fontWeight:"bold",color:"gray",whiteSpace:"pre-line",children:introduction}):null}ActionButtons_ActionButtons.__docgenInfo={description:"",methods:[],displayName:"ActionButtons",props:{onMoveDown:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},onMoveUp:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},onEdit:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},onView:{description:"",type:{name:"func"},required:!0},sectionsLength:{description:"",type:{name:"number"},required:!0},position:{description:"",type:{name:"number"},required:!0},isReadOnly:{description:"",type:{name:"bool"},required:!0},isSectionMultiple:{description:"",type:{name:"bool"},required:!0},showEditButton:{description:"",type:{name:"bool"},required:!0}}},Introduction.propTypes={},Introduction.defaultProps={introduction:void 0};const Introduction_Introduction=Introduction;Introduction.__docgenInfo={description:"",methods:[],displayName:"Introduction",props:{introduction:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1}}};const SectionHeader_Introduction=Introduction_Introduction;Introduction_Introduction.__docgenInfo={description:"",methods:[],displayName:"Introduction",props:{introduction:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1}}};var CheckCircle=__webpack_require__("./node_modules/@mui/icons-material/CheckCircle.js"),Error=__webpack_require__("./node_modules/@mui/icons-material/Error.js");function TitleWithIcon(_ref){var title=_ref.title,isValid=_ref.isValid;return(0,jsx_runtime.jsxs)(Stack.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h6",fontWeight:"bold",children:title}),isValid?(0,jsx_runtime.jsx)(CheckCircle.A,{color:"success","data-testid":"success-icon"}):(0,jsx_runtime.jsx)(Error.A,{color:"error","data-testid":"error-icon"})]})}TitleWithIcon.propTypes={};const TitleWithIcon_TitleWithIcon=TitleWithIcon;TitleWithIcon.__docgenInfo={description:"",methods:[],displayName:"TitleWithIcon",props:{title:{description:"",type:{name:"string"},required:!0},isValid:{description:"",type:{name:"bool"},required:!0}}};const SectionHeader_TitleWithIcon=TitleWithIcon_TitleWithIcon;TitleWithIcon_TitleWithIcon.__docgenInfo={description:"",methods:[],displayName:"TitleWithIcon",props:{title:{description:"",type:{name:"string"},required:!0},isValid:{description:"",type:{name:"bool"},required:!0}}};var getHeaders=function getHeaders(questions,values,headers){if(headers.some((function(header){return header.question}))){var headerQuestions=headers.map((function(header){return header.question}));return questions.reduce((function(acc,question){var _values$question$name;if(headerQuestions.includes(question.id)&&!question.multiple&&null!==(_values$question$name=values[question.name].answer)&&void 0!==_values$question$name&&_values$question$name.value){var value=values[question.name].answer.value;[questionTypes.A.TEXT_FIELD,questionTypes.A.NUMERIC_FIELD].includes(question.type)?acc.push(value):acc.push(utils_getSelectedOptionLabel(question.options,value))}return acc}),[]).join(" | ")}return""};function SectionHeader(_ref){var section=_ref.section,sectionsLength=_ref.sectionsLength,onView=_ref.onView,onEdit=_ref.onEdit,onDelete=_ref.onDelete,values=_ref.values,isReadOnly=_ref.isReadOnly,isValid=_ref.isValid,onMoveUp=_ref.onMoveUp,onMoveDown=_ref.onMoveDown,position=_ref.position,showEditButton=_ref.showEditButton;return(0,jsx_runtime.jsxs)(Stack.A,{direction:"row",boxShadow:2,p:2,justifyContent:"space-between",flexWrap:"wrap",children:[(0,jsx_runtime.jsxs)(Stack.A,{children:[(0,jsx_runtime.jsx)(SectionHeader_TitleWithIcon,{title:section.label,isValid}),(0,jsx_runtime.jsx)(SectionHeader_Introduction,{introduction:section.introduction}),(0,jsx_runtime.jsx)(Typography.A,{children:getHeaders(section.questions,values,section.headers)})]}),(0,jsx_runtime.jsx)(SectionHeader_ActionButtons,{isSectionMultiple:section.multiple,sectionsLength,onEdit,onDelete,onView,onMoveDown,onMoveUp,isReadOnly,position,showEditButton})]})}SectionHeader.propTypes={},SectionHeader.defaultProps={onMoveUp:void 0,onMoveDown:void 0,isReadOnly:!1,showEditButton:!0};const SectionHeader_SectionHeader=SectionHeader;SectionHeader.__docgenInfo={description:"",methods:[],displayName:"SectionHeader",props:{onMoveUp:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},onMoveDown:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},isReadOnly:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},showEditButton:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},onView:{description:"",type:{name:"func"},required:!0},onEdit:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},sectionsLength:{description:"",type:{name:"number"},required:!0},position:{description:"",type:{name:"number"},required:!0},section:{description:"",type:{name:"custom",raw:"sectionPropTypes.isRequired"},required:!1},values:{description:"",type:{name:"shape",value:{}},required:!0},isValid:{description:"",type:{name:"bool"},required:!0}}}},"./src/constants/questionTypes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={TEXT_FIELD:1,NUMERIC_FIELD:2,DROPDOWN:3,RADIO:4,CHECKBOX:5,DATE:6,RADIO_TABLE:7,CURRENCY:8,MESSAGE:9}},"./src/utils/propTypes/section.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_subQuestion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/propTypes/subQuestion.js");const __WEBPACK_DEFAULT_EXPORT__=prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,introduction:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,questions:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,introduction:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,subQuestions:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(_subQuestion__WEBPACK_IMPORTED_MODULE_0__.A),disabled:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,hide:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool})),multiple:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool.isRequired,headers:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({id:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired,question:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number}))})},"./src/utils/propTypes/subQuestion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);const __WEBPACK_DEFAULT_EXPORT__=prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({id:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,label:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,optionId:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,name:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string})}}]);
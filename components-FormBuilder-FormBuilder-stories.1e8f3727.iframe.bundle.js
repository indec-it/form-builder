"use strict";(self.webpackChunk_indec_form_builder=self.webpackChunk_indec_form_builder||[]).push([[576],{"./node_modules/@mui/icons-material/Add.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");exports.Z=_default},"./node_modules/@mui/icons-material/ArrowBack.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");exports.Z=_default},"./node_modules/@mui/icons-material/ArrowForward.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");exports.Z=_default},"./node_modules/@mui/icons-material/Done.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");exports.Z=_default},"./node_modules/@mui/icons-material/Edit.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");exports.Z=_default},"./node_modules/@mui/icons-material/Visibility.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__("./node_modules/@mui/icons-material/utils/createSvgIcon.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");exports.Z=_default},"./src/components/FormBuilder/FormBuilder.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,WithCustomNavigationButtons:()=>WithCustomNavigationButtons,WithCustomSectionHeader:()=>WithCustomSectionHeader,WithInitialValues:()=>WithInitialValues,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FormBuilder_stories});var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),modals=__webpack_require__("./src/constants/modals.js");const components_NavigationButtons=__webpack_require__("./src/components/NavigationButtons/NavigationButtons.js").Z;var QuestionBuilder=__webpack_require__("./src/components/QuestionBuilder/index.js"),questionTypes=__webpack_require__("./src/constants/questionTypes.js"),dateTypes=__webpack_require__("./src/constants/dateTypes.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var getValue=function getValue(question){switch(question.type){case questionTypes.Z.CHECKBOX:return[];case questionTypes.Z.RADIO_TABLE:return question.options.reduce((function(accumulator,currentValue){return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},currentValue.name,void 0))}),{});case questionTypes.Z.DATE:return[dateTypes.Z.RANGE_WITHOUT_HOUR,dateTypes.Z.RANGE_WITH_HOUR].includes(question.metadata.dateType)?{start:"",end:""}:"";default:return""}},getSubQuestions=function getSubQuestions(subQuestions){return Object.fromEntries(subQuestions.map((function(subQuestion,index){return[subQuestion.name,{id:index+1,answer:{value:""}}]})))};const utils_buildQuestions=function buildQuestions(section){var values=_defineProperty({},section.name,{id:1});return section.interruption.interruptible&&(values[section.name][section.interruption.name]={id:"section-".concat(section.id),answer:{value:""}}),section.questions.forEach((function(question){var id=question.id;values[section.name][question.name]={id,answer:{value:getValue(question)}},question.subQuestions&&question.subQuestions.length>0&&(values[section.name][question.name]=_objectSpread(_objectSpread({},values[section.name][question.name]),{},{answer:_objectSpread(_objectSpread({},values[section.name][question.name].answer),{},{specifications:getSubQuestions(question.subQuestions)})})),question.multiple&&(values[section.name][question.name]=_objectSpread(_objectSpread({},values[section.name][question.name]),{},{answer:[_objectSpread({id:1},values[section.name][question.name].answer)]}))})),values[section.name]=[values[section.name]],values};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const useSectionInitialValues=function useInitialValues(values){var section=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_useState2=_slicedToArray((0,react.useState)(),2),initialValues=_useState2[0],setInitialValues=_useState2[1];return(0,react.useEffect)((function(){setInitialValues(values||utils_buildQuestions(section))}),[section]),{initialValues}};var getWarnings=__webpack_require__("./src/utils/getWarnings.js"),getSchemas=(__webpack_require__("./src/utils/propTypes/section.js"),__webpack_require__("./src/utils/getSchemas.js")),getLastId=__webpack_require__("./src/utils/getLastId.js");const FormBuilder_Modals=__webpack_require__("./src/components/FormBuilder/Modals/Modals.js").Z;const FormBuilder_SectionHeader=__webpack_require__("./src/components/FormBuilder/SectionHeader/SectionHeader.js").Z;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function FormBuilder_typeof(obj){return FormBuilder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},FormBuilder_typeof(obj)}function FormBuilder_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function FormBuilder_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?FormBuilder_ownKeys(Object(source),!0).forEach((function(key){FormBuilder_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):FormBuilder_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function FormBuilder_defineProperty(obj,key,value){return(key=function FormBuilder_toPropertyKey(arg){var key=function FormBuilder_toPrimitive(input,hint){if("object"!==FormBuilder_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==FormBuilder_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===FormBuilder_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function FormBuilder_slicedToArray(arr,i){return function FormBuilder_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FormBuilder_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function FormBuilder_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return FormBuilder_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FormBuilder_arrayLikeToArray(o,minLen)}(arr,i)||function FormBuilder_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FormBuilder_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function FormBuilder(_ref){var section=_ref.section,isLastSection=_ref.isLastSection,page=_ref.page,onSubmit=_ref.onSubmit,onPrevious=_ref.onPrevious,isSurvey=_ref.isSurvey,components=_ref.components,initialValues=_ref.initialValues,_useState2=FormBuilder_slicedToArray((0,react.useState)(!1),2),readOnlyMode=_useState2[0],setReadOnlyMode=_useState2[1],_useState4=FormBuilder_slicedToArray((0,react.useState)(!1),2),showSurvey=_useState4[0],setShowSurvey=_useState4[1],_useState6=FormBuilder_slicedToArray((0,react.useState)(),2),selectedSectionId=_useState6[0],setSelectedSelectionId=_useState6[1],_useState8=FormBuilder_slicedToArray((0,react.useState)(),2),openModal=_useState8[0],setOpenModal=_useState8[1],_getSchemas=(0,getSchemas.Z)(section),validateSchema=_getSchemas.errorSchema,warningSchema=_getSchemas.warningSchema,formInitialValues=useSectionInitialValues(initialValues,section).initialValues,handleOpenModal=function handleOpenModal(modal,sectionId){setSelectedSelectionId(sectionId),setOpenModal(modal)};return(0,jsx_runtime.jsx)(formik_esm.J9,{initialValues:formInitialValues,validateOnMount:!0,enableReinitialize:!0,validationSchema:validateSchema,onSubmit,children:function children(_ref2){var values=_ref2.values,setValues=_ref2.setValues,warnings=(0,getWarnings.Z)(warningSchema,values)||{};return(0,jsx_runtime.jsxs)(formik_esm.l0,{children:[(0,jsx_runtime.jsx)(formik_esm.F2,{name:section.name,render:function render(sectionHelpers){return values&&values[section.name]&&values[section.name].map((function(currentSection,index){return(0,jsx_runtime.jsxs)(Box.Z,{mb:2,children:[components.SectionHeader?(0,jsx_runtime.jsx)(components.SectionHeader,{values:currentSection}):(0,jsx_runtime.jsx)(FormBuilder_SectionHeader,{onView:function onView(){return handleOpenModal(modals.Z.PREVIEW_MODAL,currentSection.id)},onEdit:function onEdit(){return function handleShowSurvey(sectionId,readOnly){setShowSurvey(sectionId),setReadOnlyMode(!!readOnly&&sectionId)}(currentSection.id,!1)},onDelete:function onDelete(){return handleOpenModal(modals.Z.CONFIRM_DELETE_SECTION_MODAL,currentSection.id)},sectionsLength:values[section.name].length,section,values:currentSection,isSurvey}),(!isSurvey||showSurvey===currentSection.id)&&(0,jsx_runtime.jsx)(Box.Z,{sx:{backgroundColor:"#fff",boxShadow:2,p:2},children:(0,jsx_runtime.jsx)(QuestionBuilder.Z,{values:currentSection,index,section,readOnlyMode:readOnlyMode===currentSection.id,warnings})}),(0,jsx_runtime.jsx)(FormBuilder_Modals,{open:selectedSectionId===currentSection.id,values:currentSection,index,section,readOnlyMode:!0,cancelButtonLabel:"Cerrar",options:section.interruption.options,label:section.interruption.reason,name:"".concat(section.name,".").concat(index,".").concat(section.interruption.name),onAccept:[modals.Z.CONFIRM_DELETE_SECTION_MODAL,modals.Z.INTERRUPTION_MODAL].includes(openModal)?function(){return function handleAcceptModal(allSections,sectionHelpers){if(openModal===modals.Z.CONFIRM_DELETE_SECTION_MODAL){var index=allSections.findIndex((function(currentSection){return currentSection.id===selectedSectionId}));sectionHelpers.remove(index)}setOpenModal(void 0)}(values[section.name],sectionHelpers)}:void 0,onClose:function onClose(){return setOpenModal(void 0)},modal:openModal})]},currentSection.id)}))}}),components.NavigationButtons?(0,jsx_runtime.jsx)(components.NavigationButtons,{schema:validateSchema,values:values?values[section.name]:{}}):(0,jsx_runtime.jsx)(components_NavigationButtons,{onPrevious,disablePreviousButton:0===page,nextButtonLabel:isLastSection?"Finalizar":"Siguiente",isLastSection,onAddNew:section.multiple?function(){return function addNewSection(setValues,values){var newValues=values,lastSection=(0,getLastId.Z)(values[section.name]);return newValues[section.name].push(FormBuilder_objectSpread(FormBuilder_objectSpread({},formInitialValues[section.name][0]),{},{id:lastSection+1})),setValues(newValues)}(setValues,values)}:void 0,onInterrupt:section.interruption.interruptible?function(){return handleOpenModal(modals.Z.INTERRUPTION_MODAL,section.id)}:void 0})]})}})}FormBuilder.displayName="FormBuilder",FormBuilder.propTypes={},FormBuilder.defaultProps={initialValues:void 0},FormBuilder.defaultProps={isLastSection:!1,isSurvey:!0,components:{}},FormBuilder.__docgenInfo={description:"",methods:[],displayName:"FormBuilder",props:{isLastSection:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isSurvey:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},components:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{SectionHeader:{name:"node",required:!1},NavigationButtons:{name:"node",required:!1}}},required:!1},onSubmit:{description:"",type:{name:"func"},required:!0},onPrevious:{description:"",type:{name:"func"},required:!0},section:{description:"",type:{name:"custom",raw:"sectionPropTypes.isRequired"},required:!1},page:{description:"",type:{name:"number"},required:!0},initialValues:{description:"",type:{name:"shape",value:{}},required:!1}}};const FormBuilder_FormBuilder=FormBuilder;function FormBuilder_stories_typeof(obj){return FormBuilder_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},FormBuilder_stories_typeof(obj)}function FormBuilder_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function FormBuilder_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?FormBuilder_stories_ownKeys(Object(source),!0).forEach((function(key){FormBuilder_stories_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):FormBuilder_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function FormBuilder_stories_defineProperty(obj,key,value){return(key=function FormBuilder_stories_toPropertyKey(arg){var key=function FormBuilder_stories_toPrimitive(input,hint){if("object"!==FormBuilder_stories_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==FormBuilder_stories_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===FormBuilder_stories_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function FormBuilder_stories_slicedToArray(arr,i){return function FormBuilder_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FormBuilder_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function FormBuilder_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return FormBuilder_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FormBuilder_stories_arrayLikeToArray(o,minLen)}(arr,i)||function FormBuilder_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FormBuilder_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const FormBuilder_stories={title:"FormBuilder",component:FormBuilder_FormBuilder,argTypes:{backgroundColor:{control:"color"}}};var sections=[{id:1,name:"S1",label:"Sección 1",questions:[{id:1,label:"Write your name",name:"S1P1",number:"1",type:1,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}]}],multiple:!1,favorite:!1,validations:[{id:1,type:"required",params:[{id:1,message:"Must write your name"}],messageType:"error"}],userVarName:"S1P1",subQuestions:[]},{label:"Write your age",name:"S1P2",number:"2",type:2,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}]}],multiple:!1,favorite:!1,validations:[{id:1,type:"required",params:[{id:1,message:"Must write your age"}],messageType:"error",dependsOn:"2"}],id:2,userVarName:"S1P2",subQuestions:[]},{label:"Cell number",name:"S1P3",number:"3",type:2,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}]}],multiple:!0,favorite:!1,validations:[{id:1,type:"required",params:[{id:1,message:"Must write your cell number"}],messageType:"error",dependsOn:"2"}],id:3,userVarName:"S1P3",subQuestions:[]},{id:4,label:"Select an option",name:"S1P4",number:"4",type:4,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"Yes",value:"1",needSpecification:!0},{id:2,needSpecification:!0,label:"No",value:"2"}],multiple:!1,favorite:!1,validations:[{id:1,type:"required",params:[{id:1,message:"Must select an option"}],messageType:"error"}],subQuestions:[{id:1,optionId:1,type:"1",label:"Add specification",name:"S1P1SQ1",validations:[{id:1,type:"required",params:[{id:1,message:"Must add a specification for option 1"}],messageType:"error"},{id:2,type:"min",params:[{id:1,value:2,message:"Should have at least 2 characters"}],messageType:"warning"}],userVarName:"S1P1E1"},{id:2,optionId:2,type:"1",label:"Add specification",name:"S1P1SQ2",validations:[{id:1,type:"required",params:[{id:1,message:"Must add a specification for option 2"}],messageType:"error"}],userVarName:"S1P1E2"}],metadata:{},userVarName:"S1P4"}],multiple:!0,favorite:!1,interruption:{name:"S1I1",interruptible:!1,reason:"",options:[{id:1}]},headers:[{id:1,question:1},{id:2,question:2}],userVarName:"S1"},{name:"S2",label:"Sección 2",questions:[{id:1,label:"Select the correct option",name:"S2P1",number:"1",type:4,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],value:"1",label:"Yes"},{id:2,value:"2",label:"No"}],multiple:!1,favorite:!1,validations:[{id:1,type:"required",params:[{id:1,message:"Must select an option"}],messageType:"error"}],userVarName:"S2P1"}],multiple:!1,favorite:!1,interruption:{name:"S2I",interruptible:!1,reason:"",options:[{id:1}]},headers:[{id:1}],id:2,userVarName:"S2"}];function Template(args){var _React$useState2=FormBuilder_stories_slicedToArray(react.useState(0),2),page=_React$useState2[0],setPage=_React$useState2[1];return react.useEffect((function(){sections[page]||setPage(0)}),[page]),(0,jsx_runtime.jsx)(FormBuilder_FormBuilder,FormBuilder_stories_objectSpread(FormBuilder_stories_objectSpread({},args),{},{section:sections[page],page,onSubmit:function onSubmit(){return setPage(page+1)},onPrevious:function onPrevious(){return setPage(page-1)},isLastSection:sections.length-1===page,isSurvey:!0}))}Template.displayName="Template";var Basic=Template.bind({}),WithInitialValues=Template.bind({});function _SectionHeader(){return(0,jsx_runtime.jsx)(Box.Z,{sx:{display:"flex",justifyContent:"center",backgroundColor:"#98b9ed",height:"100px"},children:(0,jsx_runtime.jsx)(Typography.Z,{children:"My custom header"})})}WithInitialValues.args={initialValues:{S1:[{id:1,S1P1:{id:1,answer:{value:"test"}},S1P2:{id:2,answer:{value:26}},S1P3:{id:3,answer:[{id:1,value:123456},{id:2,value:12345678}]}}]}},_SectionHeader.displayName="SectionHeader";var WithCustomSectionHeader=Template.bind({});function _NavigationButtons(){return(0,jsx_runtime.jsxs)(Box.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",children:"Go back"}),(0,jsx_runtime.jsx)(Button.Z,{variant:"outlined",color:"error",children:"Next"})]})}WithCustomSectionHeader.args={components:{SectionHeader:function SectionHeader(props){return(0,jsx_runtime.jsx)(_SectionHeader,FormBuilder_stories_objectSpread({},props))}}},_NavigationButtons.displayName="NavigationButtons";var WithCustomNavigationButtons=Template.bind({});WithCustomNavigationButtons.args={components:{NavigationButtons:function NavigationButtons(props){return(0,jsx_runtime.jsx)(_NavigationButtons,FormBuilder_stories_objectSpread({},props))}}};var __namedExportsOrder=["Basic","WithInitialValues","WithCustomSectionHeader","WithCustomNavigationButtons"]},"./src/components/FormBuilder/SectionHeader/SectionHeader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_material_Box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/IconButton/IconButton.js"),_mui_material_Typography__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@mui/icons-material/Delete.js"),_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/icons-material/Edit.js"),_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/icons-material/Visibility.js"),_constants_questionTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constants/questionTypes.js"),_utils_getSelectedOptionLabel__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./src/utils/propTypes/section.js"),__webpack_require__("./src/utils/getSelectedOptionLabel.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),getHeaders=function getHeaders(questions,values,headers){if(headers.some((function(header){return header.question}))){var headerQuestions=headers.map((function(header){return header.question}));return questions.reduce((function(acc,question){var _values$question$name;if(headerQuestions.includes(question.id)&&!question.multiple&&null!==(_values$question$name=values[question.name].answer)&&void 0!==_values$question$name&&_values$question$name.value){var value=values[question.name].answer.value;[_constants_questionTypes__WEBPACK_IMPORTED_MODULE_0__.Z.TEXT_FIELD,_constants_questionTypes__WEBPACK_IMPORTED_MODULE_0__.Z.NUMERIC_FIELD].includes(question.type)?acc.push(value):acc.push((0,_utils_getSelectedOptionLabel__WEBPACK_IMPORTED_MODULE_2__.Z)(question.options,value))}return acc}),[]).join(" | ")}return""};function SectionHeader(_ref){var section=_ref.section,sectionsLength=_ref.sectionsLength,onView=_ref.onView,onEdit=_ref.onEdit,onDelete=_ref.onDelete,values=_ref.values,isSurvey=_ref.isSurvey;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__.Z,{sx:{display:"flex",backgroundColor:"#fff",boxShadow:2,p:2,justifyContent:"space-between",flexWrap:"wrap"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_5__.Z,{variant:"h6",fontWeight:"bold",children:section.label}),section.introduction&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_5__.Z,{"data-testid":"introduction",fontWeight:"bold",color:"gray",children:section.introduction}),isSurvey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_5__.Z,{children:getHeaders(section.questions,values,section.headers)}):null]}),isSurvey?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__.Z,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_6__.Z,{"data-testid":"read-only-button",color:"warning",onClick:onView,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_7__.Z,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_6__.Z,{"data-testid":"edit-button",color:"primary",onClick:onEdit,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_8__.Z,{})}),section.multiple&&sectionsLength>1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_6__.Z,{"data-testid":"delete-button",color:"error",onClick:onDelete,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_9__.Z,{})})]}):null]})}SectionHeader.displayName="SectionHeader",SectionHeader.propTypes={},SectionHeader.__docgenInfo={description:"",methods:[],displayName:"SectionHeader",props:{onView:{description:"",type:{name:"func"},required:!0},onEdit:{description:"",type:{name:"func"},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},sectionsLength:{description:"",type:{name:"number"},required:!0},section:{description:"",type:{name:"custom",raw:"sectionPropTypes.isRequired"},required:!1},values:{description:"",type:{name:"shape",value:{}},required:!0},isSurvey:{description:"",type:{name:"bool"},required:!0}}};const __WEBPACK_DEFAULT_EXPORT__=SectionHeader},"./src/components/NavigationButtons/NavigationButtons.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_material_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),_mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Stack/Stack.js"),_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/icons-material/ArrowBack.js"),_mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/icons-material/ArrowForward.js"),_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/icons-material/Add.js"),_mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/icons-material/Cancel.js"),_mui_icons_material_Done__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/icons-material/Done.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function NavigationButtons(_ref){var onPrevious=_ref.onPrevious,disablePreviousButton=_ref.disablePreviousButton,nextButtonLabel=_ref.nextButtonLabel,onAddNew=_ref.onAddNew,addButtonLabel=_ref.addButtonLabel,isLastSection=_ref.isLastSection,onInterrupt=_ref.onInterrupt;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__.Z,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",p:2,spacing:{xs:1,sm:2,md:4},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{"data-testid":"back-button",startIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_ArrowBack__WEBPACK_IMPORTED_MODULE_3__.Z,{}),onClick:onPrevious,variant:"outlined",disabled:disablePreviousButton,children:"Anterior"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_1__.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[onAddNew&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{"data-testid":"add-new",startIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_4__.Z,{}),onClick:onAddNew,variant:"outlined",children:addButtonLabel}),onInterrupt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{"data-testid":"interrupt-survey",startIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_5__.Z,{}),onClick:onInterrupt,variant:"outlined",color:"error",children:"Interrumpir encuesta"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{type:"submit",startIcon:isLastSection?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_Done__WEBPACK_IMPORTED_MODULE_6__.Z,{}):void 0,endIcon:isLastSection?void 0:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_icons_material_ArrowForward__WEBPACK_IMPORTED_MODULE_7__.Z,{}),variant:"contained",color:isLastSection?"success":"primary",children:nextButtonLabel})]})}NavigationButtons.displayName="NavigationButtons",NavigationButtons.propTypes={},NavigationButtons.defaultProps={disablePreviousButton:!1,isLastSection:!1,nextButtonLabel:"Siguiente",addButtonLabel:"Agregar nuevo",onAddNew:null,onInterrupt:null},NavigationButtons.__docgenInfo={description:"",methods:[],displayName:"NavigationButtons",props:{disablePreviousButton:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isLastSection:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},nextButtonLabel:{defaultValue:{value:"'Siguiente'",computed:!1},description:"",type:{name:"string"},required:!1},addButtonLabel:{defaultValue:{value:"'Agregar nuevo'",computed:!1},description:"",type:{name:"string"},required:!1},onAddNew:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onInterrupt:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onPrevious:{description:"",type:{name:"func"},required:!0}}};const __WEBPACK_DEFAULT_EXPORT__=NavigationButtons},"./src/utils/getSchemas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>utils_getSchemas});var index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),dateTypes=__webpack_require__("./src/constants/dateTypes.js"),questionTypes=__webpack_require__("./src/constants/questionTypes.js"),castArray=__webpack_require__("./src/utils/castArray.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var handleValidations=function handleValidations(_ref2){var validator=_ref2.validator,validations=_ref2.validations,type=_ref2.type,opts=_ref2.opts,newValidator=validator;return validations.forEach((function(validation){var validationType=validation.type;if(!("required"===validationType&&type===questionTypes.Z.RADIO_TABLE||"warning"===validation.messageType&&"warning"!==opts.schemaType||"error"===validation.messageType&&"error"!==opts.schemaType)){var newParams=[],isCheckboxRequired="required"===validationType&&type===questionTypes.Z.CHECKBOX;validation.params.forEach((function(param){"number"==typeof param.value||param.value||isCheckboxRequired?newParams.push(isCheckboxRequired?1:param.value,param.message):newParams.push(param.message)})),isCheckboxRequired&&(validationType="min"),newValidator=validator[validationType].apply(validator,newParams)}})),newValidator},buildAnswerObj=function buildAnswerObj(_ref3){var values=_ref3.values,subQuestions=_ref3.subQuestions,validator=_ref3.validator,multiple=_ref3.multiple,opts=_ref3.opts,defaultSchema=index_esm.Ry({value:validator});if(subQuestions.length>0){var valuesToArray=multiple&&values?values.map((function(value){return value.value})):(0,castArray.Z)(values.value),selectedQuestions=function buildSubQuestionsValidations(subQuestions,opts){return subQuestions.reduce((function(acc,currentValue){var subQuestionValidator=index_esm.Z_(),subQuestionValidations=currentValue.validations;return subQuestionValidator=handleValidations({validator:subQuestionValidator,validations:subQuestionValidations,type:currentValue.type,opts}),acc[currentValue.name]=index_esm.Ry({answer:index_esm.Ry({value:subQuestionValidator})}),acc}),{})}(subQuestions.filter((function(subQuestion){return valuesToArray.includes(subQuestion.optionId.toString())})),opts);defaultSchema=defaultSchema.concat(index_esm.Ry({specifications:index_esm.Ry(selectedQuestions)}))}return multiple?index_esm.IX().of(defaultSchema):defaultSchema};function buildYupSchema(schema,config){var _requiredField$params,_requiredField$params2,opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},schemaWithValidations=schema,name=config.name,type=config.type,validations=config.validations,options=config.options,metadata=config.metadata,multiple=config.multiple,_config$subQuestions=config.subQuestions,subQuestions=void 0===_config$subQuestions?[]:_config$subQuestions,requiredField=validations.some((function(validation){return"required"===validation.type})),validator=function getValidatorType(type,options,_ref){var isRequired=_ref.isRequired,message=_ref.message,metadata=_ref.metadata;switch(type){case questionTypes.Z.TEXT_FIELD:case questionTypes.Z.DROPDOWN:case questionTypes.Z.RADIO:return index_esm.Z_();case questionTypes.Z.NUMERIC_FIELD:return index_esm.Rx().transform((function(value){return Number.isNaN(value)||null==value||""===value?0:value}));case questionTypes.Z.CHECKBOX:return index_esm.IX().of(index_esm.Z_());case questionTypes.Z.RADIO_TABLE:var opts=options.reduce((function(accumulator,currentValue){return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},currentValue.name,isRequired?index_esm.Z_().required(message):index_esm.Z_()))}),{});return index_esm.Ry(opts);case questionTypes.Z.DATE:var field=isRequired?index_esm.Z_().required(message):index_esm.Z_();return[dateTypes.Z.RANGE_WITHOUT_HOUR,dateTypes.Z.RANGE_WITH_HOUR].includes(metadata.dateType)?index_esm.Ry({start:field,end:field}):index_esm.Z_();default:return null}}(type,options,{isRequired:requiredField,message:null==requiredField||null===(_requiredField$params=requiredField.params)||void 0===_requiredField$params||null===(_requiredField$params2=_requiredField$params[0])||void 0===_requiredField$params2?void 0:_requiredField$params2.message,metadata});return validator?(validator=handleValidations({validator,validations,type,opts}),schemaWithValidations[name]=index_esm.Ry({id:index_esm.Rx().required(),answer:index_esm.Vo((function(values){return buildAnswerObj({values,type,subQuestions,validator,multiple,opts})}))}),schemaWithValidations):schemaWithValidations}function getSchemas_typeof(obj){return getSchemas_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},getSchemas_typeof(obj)}function getSchemas_defineProperty(obj,key,value){return(key=function getSchemas_toPropertyKey(arg){var key=function getSchemas_toPrimitive(input,hint){if("object"!==getSchemas_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==getSchemas_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===getSchemas_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var getSchema=function getSchema(section,schemaType){var schema=section.questions.reduce((function(acc,currentValue){return buildYupSchema(acc,currentValue,{schemaType})}),{});return index_esm.Ry(getSchemas_defineProperty({},section.name,index_esm.IX().of(index_esm.Ry(schema))))};const utils_getSchemas=function getSchemas(){var section=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{errorSchema:getSchema(section,"error"),warningSchema:getSchema(section,"warning")}}},"./src/utils/getWarnings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>utils_getWarnings});var formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js");const utils_castErrorsFromYup=function castErrorsFromYup(yupErrors){var warnings={};if(!yupErrors)return warnings;if(yupErrors.inner){if(0===yupErrors.inner.length)return(0,formik_esm.tP)(warnings,yupErrors.path,yupErrors.message);yupErrors.inner.forEach((function(error){(0,formik_esm.u9)(warnings,error.path)||(warnings=(0,formik_esm.tP)(warnings,error.path,error.message))}))}return warnings};const utils_getWarnings=function getWarnings(schema,values){var warnings={};if(!schema)return warnings;try{schema.validateSync(values,{abortEarly:!1})}catch(error){warnings=utils_castErrorsFromYup(error)}return warnings}}}]);
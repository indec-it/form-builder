/*! For license information please see components-FormBuilder-FormBuilder-stories.af394729.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_indec_form_builder=self.webpackChunk_indec_form_builder||[]).push([[15],{"./src/components/FormBuilder/FormBuilder.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,WithCustomNavigationButtons:()=>WithCustomNavigationButtons,WithCustomSectionHeader:()=>WithCustomSectionHeader,WithInitialValues:()=>WithInitialValues,WithReadOnlyMode:()=>WithReadOnlyMode,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FormBuilder_stories});var react=__webpack_require__("./node_modules/react/index.js"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),modals=__webpack_require__("./src/constants/modals.js");const components_NavigationButtons=__webpack_require__("./src/components/NavigationButtons/NavigationButtons.js").A;var hooks=__webpack_require__("./src/hooks/index.js"),buildQuestions=__webpack_require__("./src/utils/buildQuestions.js");const questionActions_DISABLE="disable",questionActions_HIDE="hide";var questionTypes=__webpack_require__("./src/constants/questionTypes.js"),getNavigation=__webpack_require__("./src/utils/getNavigation.js"),isNumericOrCurrency=function isNumericOrCurrency(type){return[questionTypes.A.NUMERIC_FIELD,questionTypes.A.CURRENCY].includes(type)};const utils_getQuestionProps=function getQuestionProps(_ref){var props,sectionIndex=_ref.sectionIndex,section=_ref.section,question=_ref.question,values=_ref.values,disabled=_ref.disabled,warnings=_ref.warnings,initialValues=_ref.initialValues,sections=_ref.sections,number=question.number,label=question.label,multiple=question.multiple,subQuestions=question.subQuestions,type=question.type,placeholder=question.placeholder,name=question.name,options=question.options,metadata=question.metadata,_question$navigation=question.navigation,navigation=void 0===_question$navigation?[]:_question$navigation,introduction=question.introduction,_question$multiline=question.multiline,multiline=void 0!==_question$multiline&&_question$multiline,disabledByDefault=question.disabled,questionName=section?"".concat(section.name,".").concat(sectionIndex,".").concat(name,".answer"):"",jump=section?(0,getNavigation.A)({navigation,answers:values,section,initialValues,sections}):"",show=!Object.prototype.hasOwnProperty.call(question,"hide")&&(null==jump?void 0:jump.action)!==questionActions_HIDE,isDisabled=(null==jump?void 0:jump.action)===questionActions_DISABLE||disabled;switch(type){case questionTypes.A.NUMERIC_FIELD:case questionTypes.A.TEXT_FIELD:case questionTypes.A.CURRENCY:props={label:{text:label,number,introduction},placeholder:!placeholder&&isNumericOrCurrency(type)?"Ingrese Valor":placeholder,name:questionName,type:[questionTypes.A.TEXT_FIELD,questionTypes.A.CURRENCY].includes(type)?"text":"number",disabled:disabledByDefault||isDisabled,warnings,isMultiple:multiple,values:values[name],subQuestions,show,multiline:type===questionTypes.A.TEXT_FIELD&&multiline};break;case questionTypes.A.DROPDOWN:props={label:{text:label,number,introduction},placeholder,name:questionName,options,disabled:disabledByDefault||isDisabled,isMultiple:multiple,warnings,values:values[name],subQuestions,show};break;case questionTypes.A.RADIO:case questionTypes.A.CHECKBOX:case questionTypes.A.RADIO_TABLE:props={label:{text:label,number,introduction},name:questionName,options,disabled:disabledByDefault||isDisabled,isMultiple:multiple,warnings,values:values[name],subQuestions,show};break;case questionTypes.A.DATE:props={label:{text:label,number,introduction},placeholder,name:questionName,disabled:disabledByDefault||isDisabled,isMultiple:multiple,metadata,warnings,values:values[name],subQuestions,show};break;case questionTypes.A.MESSAGE:props={message:label,show};break;default:return props}return{props,questionName,jump,questionType:type}};const components_Checkbox=__webpack_require__("./src/components/Checkbox/Checkbox.js").A;const components_Currency=__webpack_require__("./src/components/Currency/Currency.js").A;const components_DatePicker=__webpack_require__("./src/components/DatePicker/DatePicker.js").A;const components_Message=__webpack_require__("./src/components/Message/Message.js").A;var Radio=__webpack_require__("./src/components/Radio/index.js");const components_RadioTable=__webpack_require__("./src/components/RadioTable/RadioTable.js").A;const components_Select=__webpack_require__("./src/components/Select/Select.js").A;var TextField=__webpack_require__("./src/components/TextField/index.js");const utils_getQuestionComponent=function getQuestionComponent(questionType){switch(questionType){case questionTypes.A.NUMERIC_FIELD:case questionTypes.A.TEXT_FIELD:return TextField.A;case questionTypes.A.CURRENCY:return components_Currency;case questionTypes.A.DROPDOWN:return components_Select;case questionTypes.A.RADIO:return Radio.A;case questionTypes.A.CHECKBOX:return components_Checkbox;case questionTypes.A.RADIO_TABLE:return components_RadioTable;case questionTypes.A.DATE:return components_DatePicker;case questionTypes.A.MESSAGE:return components_Message;default:return null}};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["values","subQuestions","name"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function SubQuestions(_ref){var values=_ref.values,subQuestions=_ref.subQuestions,name=_ref.name,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),parentName=name.split(".")[2],selectedQuestions=(0,hooks.LC)({subQuestions,value:_defineProperty({},parentName,values),name:parentName,specificationsPathName:name}).selectedQuestions;return selectedQuestions.length>0?(0,jsx_runtime.jsx)("div",{className:"flex flex-col space-y-2 justify-end w-full",children:selectedQuestions.map((function(subQuestion){return(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(formik_esm.D0,_objectSpread(_objectSpread(_objectSpread({},utils_getQuestionProps({question:subQuestion,name,values}).props),props),{},{component:utils_getQuestionComponent(subQuestion.type),name:"".concat(name,".").concat(subQuestion.name,".answer.value"),label:{text:subQuestion.label},placeholder:subQuestion.placeholder}))},subQuestion.id)}))}):null}const SubQuestions_SubQuestions=SubQuestions;SubQuestions.__docgenInfo={description:"",methods:[],displayName:"SubQuestions"};const components_SubQuestions=SubQuestions_SubQuestions;const utils_getLastId=function getLastId(values){if(values&&0!==values.length){var sortedIds=values.map((function(value){return value.id})).sort((function(a,b){return a-b}));return sortedIds[sortedIds.length-1]}};var Icons=__webpack_require__("./src/components/Icons/index.js");function Wrapper_typeof(o){return Wrapper_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Wrapper_typeof(o)}var Wrapper_excluded=["isMultiple","name","values","subQuestions","options","disabled","warnings","show","section"];function Wrapper_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Wrapper_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Wrapper_ownKeys(Object(t),!0).forEach((function(r){Wrapper_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wrapper_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Wrapper_defineProperty(e,r,t){return(r=function Wrapper_toPropertyKey(t){var i=function Wrapper_toPrimitive(t,r){if("object"!=Wrapper_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Wrapper_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Wrapper_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const QuestionBuilder_Wrapper=function Wrapper(_ref){var Component,isMultiple=_ref.isMultiple,name=_ref.name,values=_ref.values,_ref$subQuestions=_ref.subQuestions,subQuestions=void 0===_ref$subQuestions?[]:_ref$subQuestions,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings,show=_ref.show,section=_ref.section,props=function Wrapper_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Wrapper_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Wrapper_excluded);return show?(Component=isMultiple?(0,jsx_runtime.jsx)(formik_esm.ED,{name,render:function render(helpers){return values.answer.map((function(answer,index){return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,jsx_runtime.jsx)(formik_esm.D0,Wrapper_objectSpread(Wrapper_objectSpread({},props),{},{options,name:"".concat(name,".").concat(index,".value"),disabled,warnings})),(0,jsx_runtime.jsx)(components_SubQuestions,{values:{answer,id:answer.id},subQuestions,disabled,warnings,name:"".concat(name,".").concat(index,".specifications"),section}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center w-20",children:[values.answer.length===index+1&&!disabled&&(0,jsx_runtime.jsx)("button",{type:"button",onClick:function onClick(){return helpers.push({id:utils_getLastId(values.answer)+1,value:"",specifications:(0,buildQuestions.a)(subQuestions)})},className:"p-2 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Add item",children:(0,jsx_runtime.jsx)(Icons.GY,{})}),index>0&&!disabled&&(0,jsx_runtime.jsx)("button",{type:"button",onClick:function onClick(){return helpers.remove(index)},className:"p-2 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Delete item",children:(0,jsx_runtime.jsx)(Icons.d7,{})})]})]},answer.id)}))}}):(0,jsx_runtime.jsx)(formik_esm.D0,Wrapper_objectSpread(Wrapper_objectSpread({},props),{},{options,name:"".concat(name,".value"),disabled,warnings})),subQuestions.length>0&&options.length>0&&!isMultiple&&(Component=(0,jsx_runtime.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[Component,(0,jsx_runtime.jsx)(components_SubQuestions,{values,subQuestions,disabled,Component:TextField.A,warnings,name:"".concat(name,".specifications"),section})]})),Component):null};function Question_typeof(o){return Question_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Question_typeof(o)}function Question_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Question_defineProperty(e,r,t){return(r=function Question_toPropertyKey(t){var i=function Question_toPrimitive(t,r){if("object"!=Question_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Question_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Question_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Question(_ref){var sectionIndex=_ref.sectionIndex,questionIndex=_ref.questionIndex,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings,values=_ref.values,_useForm=(0,hooks.mN)(),sections=_useForm.sections,initialValues=_useForm.initialValues,section=_useForm.section,question=section.questions[questionIndex];if(!question)return null;var setFieldValue=(0,formik_esm.j7)().setFieldValue,_getQuestionProps=utils_getQuestionProps({sectionIndex,section,question,values,disabled,warnings,sections,initialValues}),props=_getQuestionProps.props,questionName=_getQuestionProps.questionName,jump=_getQuestionProps.jump,questionType=_getQuestionProps.questionType,shouldClean=!1;null!=jump&&jump.action&&!shouldClean&&(shouldClean=!0),(0,react.useEffect)((function(){if(shouldClean){var defaultAnswerValue=(0,buildQuestions.A)(section)[section.name][0][question.name].answer;setFieldValue(questionName,defaultAnswerValue),shouldClean=!1}}),[shouldClean,questionName]);var Component=utils_getQuestionComponent(questionType);return Component?(0,jsx_runtime.jsx)(QuestionBuilder_Wrapper,function Question_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Question_ownKeys(Object(t),!0).forEach((function(r){Question_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Question_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({component:Component,section},props)):(0,jsx_runtime.jsx)("p",{className:"text-red-600 font-medium",children:"Invalid component."})}const Question_Question=Question;Question.__docgenInfo={description:"",methods:[],displayName:"Question",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},warnings:{defaultValue:{value:"{}",computed:!1},required:!1}}};const QuestionBuilder_Question=Question_Question;function QuestionBuilder(_ref){var values=_ref.values,index=_ref.index,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings;return(0,jsx_runtime.jsx)("div",{className:"shadow-lg p-4","data-testid":"question-builder",children:Object.values(values).map((function(value,valueIndex){return value.id?(0,jsx_runtime.jsx)("div",{className:"mb-4",children:(0,jsx_runtime.jsx)(QuestionBuilder_Question,{sectionIndex:index,questionIndex:valueIndex-1,disabled,warnings,values})},value.id):null}))})}const QuestionBuilder_QuestionBuilder=QuestionBuilder;QuestionBuilder.__docgenInfo={description:"",methods:[],displayName:"QuestionBuilder",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},warnings:{defaultValue:{value:"{}",computed:!1},required:!1}}};const components_QuestionBuilder=QuestionBuilder_QuestionBuilder;var context_form=__webpack_require__("./src/context/form.js"),getWarnings=__webpack_require__("./src/utils/getWarnings.js");const FormBuilder_SectionHeader=__webpack_require__("./src/components/FormBuilder/SectionHeader/SectionHeader.js").A;function Header_typeof(o){return Header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Header_typeof(o)}var Header_excluded=["components"];function Header_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Header_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Header_ownKeys(Object(t),!0).forEach((function(r){Header_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Header_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Header_defineProperty(e,r,t){return(r=function Header_toPropertyKey(t){var i=function Header_toPrimitive(t,r){if("object"!=Header_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Header_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Header_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Header(_ref){var _ref$components=_ref.components,components=void 0===_ref$components?{}:_ref$components,props=function Header_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Header_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Header_excluded);return components.SectionHeader?(0,jsx_runtime.jsx)(components.SectionHeader,Header_objectSpread({},props)):(0,jsx_runtime.jsx)(FormBuilder_SectionHeader,Header_objectSpread({},props))}const Header_Header=Header;Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{components:{defaultValue:{value:"{}",computed:!1},required:!1}}};const FormBuilder_Header=Header_Header;const FormBuilder_Modals=__webpack_require__("./src/components/FormBuilder/Modals/Modals.js").A,validationTypes_EQUAL="eq",validationTypes_NOT_EQUAL="ne",validationTypes_NOT_INCLUDES="nin";var getSchemas=__webpack_require__("./src/utils/getSchemas.js");function useFormBuilder_typeof(o){return useFormBuilder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useFormBuilder_typeof(o)}function useFormBuilder_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useFormBuilder_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useFormBuilder_ownKeys(Object(t),!0).forEach((function(r){useFormBuilder_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useFormBuilder_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useFormBuilder_defineProperty(e,r,t){return(r=function useFormBuilder_toPropertyKey(t){var i=function useFormBuilder_toPrimitive(t,r){if("object"!=useFormBuilder_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useFormBuilder_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==useFormBuilder_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const FormBuilder_useFormBuilder=function useFormBuilder(_ref){var sections=_ref.sections,initialValues=_ref.initialValues,section=_ref.section,_useState2=_slicedToArray((0,react.useState)(),2),readOnlyMode=_useState2[0],setReadOnlyMode=_useState2[1],_useState4=_slicedToArray((0,react.useState)(),2),showSurvey=_useState4[0],setShowSurvey=_useState4[1],_useState6=_slicedToArray((0,react.useState)(),2),selectedSectionId=_useState6[0],setSelectedSelectionId=_useState6[1],_useState8=_slicedToArray((0,react.useState)(),2),position=_useState8[0],setPosition=_useState8[1],_useState10=_slicedToArray((0,react.useState)(),2),openModal=_useState10[0],setOpenModal=_useState10[1],transformedSection=(0,react.useMemo)((function(){var questions=section.questions.map((function(question){return[questionTypes.A.DROPDOWN,questionTypes.A.RADIO,questionTypes.A.CHECKBOX].includes(question.type)&&question.allOptionsNeedSpecification?useFormBuilder_objectSpread(useFormBuilder_objectSpread({},question),{},{subQuestions:question.options.map((function(option,index){return{id:index+1,type:question.metadata.specification.type,optionId:option.id,label:question.metadata.specification.label,placeholder:question.metadata.specification.placeholder,name:"S".concat(section.id,"P").concat(question.id,"SQ").concat(index+1),userVarName:"".concat(question.userVarName,"_").concat(option.value),validations:[{id:1,rules:[{id:1,conditions:[{id:1,section:section.name,question:question.name,value:"",type:question.type===questionTypes.A.CHECKBOX?validationTypes_NOT_INCLUDES:validationTypes_NOT_EQUAL},{id:2,section:section.name,question:"S".concat(section.id,"P").concat(question.id,"SQ").concat(index+1),value:"",type:validationTypes_EQUAL}]}],message:{text:"Debe completar el campo",type:"error"}}],navigation:[{id:1,rules:[{id:1,conditions:[{id:1,section:section.name,question:question.name,value:option.value,type:question.type===questionTypes.A.CHECKBOX?validationTypes_NOT_INCLUDES:validationTypes_NOT_EQUAL}]}],action:"hide"}]}}))}):question}));return useFormBuilder_objectSpread(useFormBuilder_objectSpread({},section),{},{questions})}),[section]),formInitialValues=(0,hooks.RF)(initialValues,transformedSection).initialValues,_getSchemas=(0,getSchemas.A)({section:transformedSection,sections,initialValues});return{readOnlyMode,showSurvey,formInitialValues,validateSchema:_getSchemas.errorSchema,warningSchema:_getSchemas.warningSchema,selectedSectionId,openModal,handleAcceptModal:function handleAcceptModal(allSections,sectionHelpers,onInterrupt,values){if(openModal===modals.A.CONFIRM_DELETE_SECTION_MODAL){var index=allSections.findIndex((function(currentSection){return currentSection.id===selectedSectionId}));sectionHelpers.remove(index)}openModal===modals.A.INTERRUPTION_MODAL&&onInterrupt&&onInterrupt(values),setOpenModal(void 0)},addNewSection:function addNewSection(setValues,values){var newValues=values,lastSection=utils_getLastId(values[section.name]),emptySection=(0,buildQuestions.A)(section)[section.name][0];newValues[section.name].push(useFormBuilder_objectSpread(useFormBuilder_objectSpread({},emptySection),{},{id:lastSection+1})),setValues(newValues)},handleOpenModal:function handleOpenModal(modal,sectionId){setSelectedSelectionId(sectionId),setOpenModal(modal)},handleShowSurvey:function handleShowSurvey(sectionId,readOnly,index){setShowSurvey(sectionId),setReadOnlyMode(readOnly),setPosition(index)},setOpenModal,transformedSection,position}};function FormBuilder_typeof(o){return FormBuilder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FormBuilder_typeof(o)}function FormBuilder_defineProperty(e,r,t){return(r=function FormBuilder_toPropertyKey(t){var i=function FormBuilder_toPrimitive(t,r){if("object"!=FormBuilder_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FormBuilder_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FormBuilder_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==FormBuilder_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(FormBuilder_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function FormBuilder(_ref){var sections=_ref.sections,onSubmit=_ref.onSubmit,onFinish=_ref.onFinish,onPrevious=_ref.onPrevious,onInterrupt=_ref.onInterrupt,_ref$components=_ref.components,components=void 0===_ref$components?{}:_ref$components,initialValues=_ref.initialValues,_ref$isReadOnly=_ref.isReadOnly,isReadOnly=void 0!==_ref$isReadOnly&&_ref$isReadOnly,onChange=_ref.onChange,_useNavigation=(0,hooks.cq)({sections,initialValues,handleFinish:onFinish}),handleNextPage=_useNavigation.handleNextPage,handlePreviousPage=_useNavigation.handlePreviousPage,navigation=_useNavigation.navigation,page=_useNavigation.page,section=_useNavigation.section,_useFormBuilder=FormBuilder_useFormBuilder({sections,initialValues,section}),readOnlyMode=_useFormBuilder.readOnlyMode,showSurvey=_useFormBuilder.showSurvey,formInitialValues=_useFormBuilder.formInitialValues,validateSchema=_useFormBuilder.validateSchema,warningSchema=_useFormBuilder.warningSchema,selectedSectionId=_useFormBuilder.selectedSectionId,openModal=_useFormBuilder.openModal,handleAcceptModal=_useFormBuilder.handleAcceptModal,addNewSection=_useFormBuilder.addNewSection,handleOpenModal=_useFormBuilder.handleOpenModal,handleShowSurvey=_useFormBuilder.handleShowSurvey,setOpenModal=_useFormBuilder.setOpenModal,transformedSection=_useFormBuilder.transformedSection,position=_useFormBuilder.position,handleSubmit=function(){var _ref2=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(values){var canContinue;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,onSubmit(values);case 2:(void 0===(canContinue=_context.sent)||canContinue)&&handleNextPage();case 4:case"end":return _context.stop()}}),_callee)})));return function handleSubmit(_x){return _ref2.apply(this,arguments)}}(),handlePrevious=function handlePrevious(values){handlePreviousPage(),onPrevious(values)},handleKeyDown=function handleKeyDown(keyEvent){13===(keyEvent.charCode||keyEvent.keyCode)&&keyEvent.preventDefault()};return(0,jsx_runtime.jsx)(context_form.A,{section:transformedSection,sections,initialValues,children:(0,jsx_runtime.jsx)(formik_esm.l1,{initialValues:formInitialValues,validateOnMount:!0,enableReinitialize:!0,validationSchema:validateSchema,onSubmit:handleSubmit,validateOnChange:!1,children:function children(_ref3){var values=_ref3.values,setValues=_ref3.setValues,warnings=(0,getWarnings.A)(warningSchema,values)||{};return(0,react.useEffect)((function(){onChange&&onChange({values,position})}),[values,onChange,position]),(0,jsx_runtime.jsxs)(formik_esm.lV,{onKeyDown:handleKeyDown,children:[(0,jsx_runtime.jsx)(formik_esm.ED,{name:section.name,render:function render(sectionHelpers){var _values$section$name;return null==values||null===(_values$section$name=values[section.name])||void 0===_values$section$name?void 0:_values$section$name.map((function(currentSection,index){return(0,jsx_runtime.jsxs)("div",{className:"mb-8",children:[(0,jsx_runtime.jsx)(FormBuilder_Header,{components,onView:function onView(){return handleShowSurvey(currentSection.id,!0)},onEdit:function onEdit(){return handleShowSurvey(currentSection.id,!1,index)},onDelete:function onDelete(){return handleOpenModal(modals.A.CONFIRM_DELETE_SECTION_MODAL,currentSection.id)},sectionsLength:values[section.name].length,section:transformedSection,values:currentSection,isReadOnly,isValid:validateSchema.isValidSync(FormBuilder_defineProperty({},section.name,[currentSection])),onMoveDown:function onMoveDown(){return sectionHelpers.swap(index,index+1)},onMoveUp:function onMoveUp(){return sectionHelpers.swap(index,index-1)},position:index,showEditButton:!isReadOnly&&"disable"!==navigation.action}),showSurvey===currentSection.id&&(0,jsx_runtime.jsx)(components_QuestionBuilder,{values:currentSection,index,disabled:readOnlyMode||isReadOnly||"disable"===navigation.action,warnings}),(0,jsx_runtime.jsx)(FormBuilder_Modals,{open:selectedSectionId,options:section.interruption.options,label:{text:section.interruption.reason},name:"".concat(section.name,".").concat(index,".").concat(section.interruption.name,".answer.value"),onAccept:[modals.A.CONFIRM_DELETE_SECTION_MODAL,modals.A.INTERRUPTION_MODAL].includes(openModal)?function(){return handleAcceptModal(values[section.name],sectionHelpers,onInterrupt,values)}:void 0,onClose:function onClose(){return setOpenModal(void 0)},modal:openModal})]},currentSection.id)}))}}),components.NavigationButtons?(0,jsx_runtime.jsx)(components.NavigationButtons,{schema:validateSchema,values:values?values[section.name]:{},onAddNew:section.multiple?function(){return addNewSection(setValues,values)}:void 0,onInterrupt:section.interruption.interruptible?function(){return handleOpenModal(modals.A.INTERRUPTION_MODAL,section.id)}:void 0,readOnlyMode:isReadOnly}):(0,jsx_runtime.jsx)(components_NavigationButtons,{onPrevious:function onPrevious(){return handlePrevious(values)},disablePreviousButton:0===page,onAddNew:section.multiple?function(){return addNewSection(setValues,values)}:void 0,onInterrupt:section.interruption.interruptible?function(){return handleOpenModal(modals.A.INTERRUPTION_MODAL,section.id)}:void 0,readOnlyMode:isReadOnly})]})}})})}const FormBuilder_FormBuilder=FormBuilder;FormBuilder.__docgenInfo={description:"",methods:[],displayName:"FormBuilder",props:{components:{defaultValue:{value:"{}",computed:!1},required:!1},isReadOnly:{defaultValue:{value:"false",computed:!1},required:!1}}};const FormBuilder_stories={title:"FormBuilder",component:FormBuilder_FormBuilder,argTypes:{backgroundColor:{control:"color"}}},sections=[{name:"S2",label:"INGRESOS",questions:[{id:1,label:"Tipo de Transaccion",name:"S2P1",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"1.1 Manufactura sobre insumos fisicos",value:"1",needSpecification:!1},{id:2,needSpecification:!1,label:"1.1.1 Bienes recibidos del exterior",value:"2"},{id:3,needSpecification:!1,label:"1.1.2 Bienes devueltos al exterior",value:"3"},{id:4,needSpecification:!1,label:"1.2 Mantenimiento y reparaciones",value:"4"}],multiple:!1,favorite:!1,validations:[{id:1,rules:[{id:1,conditions:[{id:1,question:"S2P1",value:"",type:"eq",section:"S2"}]}],message:{text:"Debe seleccionar un tipo de transaccion",type:"error"}}],navigation:[],subQuestions:[],metadata:{},userVarName:"Transaccion"},{id:15,label:"Test message",name:"S1P5",type:9,navigation:[{id:1,rules:[{id:1,conditions:[{id:1,type:"ne",question:"S2P1",value:"1",section:"S2"}]}],action:"hide"}]},{id:2,label:"Modo de suminstro",name:"S2P2",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"100%",value:"1",needSpecification:!1},{id:2,needSpecification:!1,label:"20%",value:"2"}],multiple:!1,favorite:!1,validations:[],navigation:[],subQuestions:[],metadata:{},userVarName:"suminstro"},{id:3,label:"Monto Total",name:"S2P3",number:"1",type:2,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"",value:"",needSpecification:!1}],multiple:!1,favorite:!1,validations:[{id:1,rules:[{id:1,conditions:[{id:1,question:"S2P3",value:"",type:"eq",section:"S2"}]}],message:{text:"Debe ingresar un monto",type:"error"}}],navigation:[],subQuestions:[],metadata:{},userVarName:"Monto"},{id:4,label:"Pais de destino",name:"S2P4",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"Chile",value:"1",needSpecification:!1},{id:2,needSpecification:!1,label:"MExico",value:"2"}],multiple:!0,favorite:!1,validations:[],navigation:[],subQuestions:[],metadata:{},userVarName:"Pais"},{id:5,label:"Servicios",name:"S2P5",number:"1",type:7,options:[{id:1,name:"S1P1O1",subOptions:[{id:1,value:"1",label:"Si"},{id:2,value:"2",label:"No"}],label:"",value:"",needSpecification:!1,userVarName:"ServInf",title:"Servicios Informaticos",repeated:!0},{id:2,name:"S1P5O2",subOptions:[{id:1,value:"1",label:"Si"},{id:2,value:"2",label:"No"}],userVarName:"OtrosServ",title:"Otros Servicios"}],multiple:!1,favorite:!1,validations:[],navigation:[],subQuestions:[],metadata:{},userVarName:"ServTot"}],multiple:!0,favorite:!1,interruption:{name:"S2I",interruptible:!1,reason:"",options:[{id:1}]},headers:[{id:1}],id:2,userVarName:"Ingreso",introduction:"Seleccione aquellos Items para los cuales tuvo Ingresos"},{id:1,name:"S1",label:"EGRESOS",questions:[{id:1,label:"Tipo de Transaccion",name:"S1P1",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"2.1 Manufatura sobre insumos fisicos",value:"1",needSpecification:!1},{id:2,needSpecification:!1,label:"2.1.1 Bienes enviados al exterior",value:"2"},{id:3,needSpecification:!1,label:"2.2 Mantenimiento y reparaciones",value:"3"}],multiple:!1,favorite:!1,validations:[],navigation:[],subQuestions:[],metadata:{},userVarName:"Transaccion"},{id:2,label:"Modo de suminstro",name:"S1P2",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"100%",value:"1",needSpecification:!1},{id:2,needSpecification:!1,label:"75%",value:"2"}],multiple:!1,favorite:!1,validations:[],navigation:[],subQuestions:[],metadata:{},userVarName:"Suministro"},{id:4,label:"País de destino",name:"S1P4",number:"1",type:3,options:[{id:1,name:"S1P1O1",subOptions:[{id:1}],label:"Brasil",value:"1",needSpecification:!0},{id:2,needSpecification:!0,label:"Perú",value:"2"},{id:3,needSpecification:!0,label:"Corea",value:"3"},{id:4,needSpecification:!0,label:"Paraguay",value:"40"}],multiple:!0,favorite:!1,validations:[],navigation:[],subQuestions:[{id:1,optionId:1,type:1,label:"Monto pais",name:"S2P4SQ1",validations:[{id:1,rules:[{id:1,conditions:[{id:1,type:"eq",question:"S2P4SQ1",value:"",section:"S1"},{id:2,type:"eq",question:"S1P4",value:"1",section:"S1"}]}],message:{type:"error",text:"Debe completar el campo"}}],navigation:[{id:1,rules:[{id:1,conditions:[{id:1,type:"ne",question:"S1P4",value:"1",section:"S1"}]}],action:"hide"}],userVarName:"monto1"},{id:2,optionId:2,type:1,label:"Monto pais",name:"S2P4SQ2",validations:[],navigation:[{id:1,rules:[{id:1,conditions:[{id:1,type:"ne",question:"S1P4",value:"2",section:"S1"}]}],action:"hide"}],userVarName:"monto2"},{id:3,optionId:3,type:1,label:"Monto pais",name:"S2P4SQ3",validations:[],navigation:[{id:1,rules:[{id:1,conditions:[{id:1,type:"ne",question:"S1P4",value:"3",section:"S1"}]}],action:"hide"}],userVarName:"monto3"},{id:4,optionId:4,type:1,label:"Monto pais",name:"S2P4SQ4",validations:[],navigation:[{id:1,rules:[{id:1,conditions:[{id:1,type:"ne",question:"S1P4",value:"4",section:"S1"}]}],action:"hide"}],userVarName:"monto4"}],metadata:{},userVarName:"Pais"}],multiple:!1,favorite:!1,interruption:{name:"S1I1",interruptible:!1,reason:"",options:[{id:1}]},headers:[{id:1}],userVarName:"Egresos"}];function Template(args){const[values,setValues]=react.useState();return react.useEffect((()=>{args?.initialValues&&setValues(args?.initialValues)}),[args]),(0,jsx_runtime.jsx)("div",{className:"container mx-auto px-4",children:(0,jsx_runtime.jsx)(FormBuilder_FormBuilder,{...args,sections,onSubmit:sectionValues=>setValues(values?{...values,...sectionValues}:sectionValues),initialValues:values})})}const Basic=Template.bind({}),WithInitialValues=Template.bind({});function FormBuilder_stories_SectionHeader(){return(0,jsx_runtime.jsx)("div",{className:"flex justify-center bg-blue-300 h-24 items-center",children:(0,jsx_runtime.jsx)("p",{children:"My custom header"})})}WithInitialValues.args={initialValues:{S2:[{id:1,S2P1:{id:1,answer:{value:"1"}},S2P2:{id:2,answer:{value:"1"}},S2P3:{id:3,answer:{value:12345}},S2P4:{id:4,answer:[{id:1,value:"1"}]},S2P5:{id:5,answer:{value:{S1P1O1:"1",S1P5O2:"2"}}}},{id:2,S2P1:{id:1,answer:{value:"3"}},S2P2:{id:2,answer:{value:"2"}},S2P3:{id:3,answer:{value:54321}},S2P4:{id:4,answer:[{id:1,value:"2"}]},S2P5:{id:5,answer:{value:{S1P1O1:"2",S1P5O2:"2"}}}}],S1:[{id:1,S1P1:{id:1,answer:{value:"3"}},S1P2:{id:2,answer:{value:"2"}},S1P4:{id:4,answer:[{id:1,value:"3",specifications:{S2P4SQ1:{id:1,answer:{value:""}},S2P4SQ2:{id:2,answer:{value:""}},S2P4SQ3:{id:3,answer:{value:"1234"}},S2P4SQ4:{id:4,answer:{value:""}}}}]}}]}};const WithCustomSectionHeader=Template.bind({});function FormBuilder_stories_NavigationButtons(){return(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Go back"}),(0,jsx_runtime.jsx)("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Next"})]})}WithCustomSectionHeader.args={components:{SectionHeader:props=>(0,jsx_runtime.jsx)(FormBuilder_stories_SectionHeader,{...props})}};const WithCustomNavigationButtons=Template.bind({});WithCustomNavigationButtons.args={components:{NavigationButtons:props=>(0,jsx_runtime.jsx)(FormBuilder_stories_NavigationButtons,{...props})}};const WithReadOnlyMode=Template.bind({});WithReadOnlyMode.args={initialValues:{S1:[{id:1,S1P1:{id:1,answer:{value:"test"}},S1P2:{id:2,answer:{value:26}},S1P3:{id:3,answer:[{id:1,value:123456},{id:2,value:12345678}]}}]},isReadOnly:!0};const __namedExportsOrder=["Basic","WithInitialValues","WithCustomSectionHeader","WithCustomNavigationButtons","WithReadOnlyMode"]},"./src/components/Checkbox/Checkbox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _FieldMessage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/FieldMessage/index.js"),_InputLabel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/InputLabel/index.js"),_Icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icons/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function Checkbox(_ref2){var options=_ref2.options,label=_ref2.label,field=_ref2.field,form=_ref2.form,_ref2$disabled=_ref2.disabled,disabled=void 0!==_ref2$disabled&&_ref2$disabled,warnings=_ref2.warnings;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"flex flex-col w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_InputLabel__WEBPACK_IMPORTED_MODULE_1__.A,{warnings,form,field,label,disabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"space-y-3 mt-2",children:options.map((function(option,index){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("label",{"data-testid":"checkbox-".concat(index),className:"group flex items-center space-x-4 p-2 rounded-lg transition-all duration-200 ".concat(disabled?"opacity-50 cursor-not-allowed":"cursor-pointer "),htmlFor:"checkbox-".concat(field.name,"-").concat(index),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{id:"checkbox-".concat(field.name,"-").concat(index),type:"checkbox","data-testid":"option-".concat(index),checked:field.value.includes(option.value),onChange:function onChange(e){!function handleChecked(e,options,selectedOption,_ref,setFieldValue){var values,name=_ref.name,value=_ref.value,selectedValue=selectedOption.value,exclusive=selectedOption.exclusive,isChecked=e.target.checked,exclusiveOptions=options.filter((function(option){return option.exclusive}));if(isChecked)if(exclusive)values=[selectedValue];else{var nonExclusiveOptions=exclusiveOptions.length>0?value.filter((function(currentValue){return!exclusiveOptions.map((function(exclusiveOption){return exclusiveOption.value})).includes(currentValue)})):value;values=[].concat(_toConsumableArray(nonExclusiveOptions),[selectedValue])}else values=value.filter((function(currentValue){return currentValue!==selectedValue}));setFieldValue(name,values)}(e,options,option,field,form.setFieldValue),form.setFieldTouched(field.name,!1)},disabled,className:"sr-only"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"w-6 h-6 border-2 rounded-md flex items-center justify-center transition-all duration-200 transform ".concat(field.value.includes(option.value)?"bg-blue-600 border-blue-600 scale-100 shadow-md":"bg-white border-gray-300 scale-100"," ").concat(disabled?"opacity-50":""," focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2"),children:field.value.includes(option.value)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_2__.Sr,{className:"w-4 h-4 text-white transform transition-transform duration-150 scale-110"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"select-none font-medium transition-colors duration-200 ".concat(disabled?"text-gray-400":"text-gray-900"),children:option.label})]},option.value)}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_FieldMessage__WEBPACK_IMPORTED_MODULE_0__.A,{warnings,form,field})]})}const __WEBPACK_DEFAULT_EXPORT__=Checkbox;Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./src/components/Currency/Currency.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_number_format__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-number-format/dist/react-number-format.es.js"),_TextField__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/TextField/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["form","field","label"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Currency(_ref){var form=_ref.form,field=_ref.field,label=_ref.label,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_number_format__WEBPACK_IMPORTED_MODULE_2__.HG,_objectSpread(_objectSpread({},props),{},{placeholder:"Ingrese Valor",value:field.value,onValueChange:function handleChange(values){var floatValue=values.floatValue;form.setFieldValue(field.name,"number"==typeof floatValue?floatValue:""),form.setFieldTouched(field.name,!1)},thousandSeparator:".",decimalSeparator:",",isNumericString:!1,customInput:_TextField__WEBPACK_IMPORTED_MODULE_0__.A,form,field,label,onBlur:function onBlur(){}}))}const __WEBPACK_DEFAULT_EXPORT__=Currency;Currency.__docgenInfo={description:"",methods:[],displayName:"Currency"}},"./src/components/DatePicker/DatePicker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DatePicker_DatePicker});var es=__webpack_require__("./node_modules/date-fns/locale/es.js"),dateTypes=__webpack_require__("./src/constants/dateTypes.js"),FieldMessage=__webpack_require__("./src/components/FieldMessage/index.js"),InputLabel=__webpack_require__("./src/components/InputLabel/index.js"),react=__webpack_require__("./node_modules/react/index.js"),index_es=__webpack_require__("./node_modules/react-datepicker/dist/index.es.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["type","onChange","value","label","disabled","placeholder","locale"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DateTimePickerSelector(_ref){var type=_ref.type,onChange=_ref.onChange,value=_ref.value,label=_ref.label,disabled=_ref.disabled,placeholder=_ref.placeholder,locale=_ref.locale,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),id=(0,react.useId)(),commonProps=_objectSpread({id,selected:value?new Date(value):null,onChange:function handleChange(date){onChange(date?date.toISOString():date)},disabled,placeholderText:placeholder,locale,dateFormat:[dateTypes.A.DATE_WITH_HOUR,dateTypes.A.RANGE_WITH_HOUR].includes(type)?"dd/MM/yyyy HH:mm":"dd/MM/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",wrapperClassName:"w-full"},props);return[dateTypes.A.DATE_WITH_HOUR,dateTypes.A.RANGE_WITH_HOUR].includes(type)?(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[label&&(0,jsx_runtime.jsx)("label",{htmlFor:id,className:"text-sm font-medium text-gray-700 mb-1",children:label}),(0,jsx_runtime.jsx)(index_es.Ay,_objectSpread(_objectSpread({},commonProps),{},{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:1,timeCaption:"Hora"}))]}):(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[label&&(0,jsx_runtime.jsx)("label",{htmlFor:id,className:"text-sm font-medium text-gray-700 mb-1",children:label}),(0,jsx_runtime.jsx)(index_es.Ay,_objectSpread({},commonProps))]})}const DatePickerSelector=DateTimePickerSelector;DateTimePickerSelector.__docgenInfo={description:"",methods:[],displayName:"DateTimePickerSelector"};const DatePicker_DateTimePickerSelector=DatePickerSelector;function DatePicker(_ref){var dateType=_ref.metadata.dateType,field=_ref.field,label=_ref.label,form=_ref.form,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"[Seleccione fecha]":_ref$placeholder,isRange=[dateTypes.A.RANGE_WITHOUT_HOUR,dateTypes.A.RANGE_WITH_HOUR].includes(dateType);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)(InputLabel.A,{label,form,field,warnings,disabled}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[(0,jsx_runtime.jsx)(DatePicker_DateTimePickerSelector,{type:dateType,label:isRange?"Fecha de inicio":"",value:isRange?field.value.start:field.value,onChange:function onChange(newValue){form.setFieldValue(isRange?"".concat(field.name,".start"):field.name,newValue),form.setFieldTouched(isRange?"".concat(field.name,".start"):field.name,!1)},disabled,placeholder,locale:es.es}),isRange&&(0,jsx_runtime.jsx)(DatePicker_DateTimePickerSelector,{type:dateType,minutesStep:1,label:"Fecha de fin",value:field.value.end,onChange:function onChange(newValue){form.setFieldValue("".concat(field.name,".end"),newValue),form.setFieldTouched("".concat(field.name,".end"),!1)},disabled:!field.value.start,placeholder,locale:es.es})]}),(0,jsx_runtime.jsx)(FieldMessage.A,{warnings,form,field})]})}const DatePicker_DatePicker=DatePicker;DatePicker.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{warnings:{defaultValue:{value:"{}",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},placeholder:{defaultValue:{value:"'[Seleccione fecha]'",computed:!1},required:!1}}}},"./src/components/FormBuilder/Modals/Modals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Modals_Modals});var formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),Icons=__webpack_require__("./src/components/Icons/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Modal(_ref){var modal=_ref.modal,onClose=_ref.onClose,onAccept=_ref.onAccept,children=_ref.children,_ref$acceptButtonLabe=_ref.acceptButtonLabel,acceptButtonLabel=void 0===_ref$acceptButtonLabe?"Aceptar":_ref$acceptButtonLabe,_ref$cancelButtonLabe=_ref.cancelButtonLabel,cancelButtonLabel=void 0===_ref$cancelButtonLabe?"Cancelar":_ref$cancelButtonLabe,_ref$open=_ref.open;return modal>0&&(void 0===_ref$open||_ref$open)?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity duration-300 ease-out",onClick:onClose,onKeyDown:function onKeyDown(e){"Escape"===e.key&&onClose()},role:"button",tabIndex:0,"aria-label":"Close modal"}),(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,jsx_runtime.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:(0,jsx_runtime.jsxs)("div",{className:"relative transform overflow-hidden rounded-2xl bg-white px-6 pb-6 pt-8 text-left shadow-2xl transition-all duration-300 ease-out scale-100 opacity-100 sm:my-8 sm:w-full sm:max-w-lg sm:p-8 ring-1 ring-gray-200",children:[(0,jsx_runtime.jsx)("div",{className:"absolute right-0 top-0 pr-6 pt-6",children:(0,jsx_runtime.jsxs)("button",{type:"button","data-testid":"close-button-icon",onClick:onClose,className:"rounded-full bg-gray-100 p-2 text-gray-400 hover:bg-gray-200 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:[(0,jsx_runtime.jsx)("span",{className:"sr-only",children:"Close"}),(0,jsx_runtime.jsx)(Icons.US,{})]})}),(0,jsx_runtime.jsx)("div",{className:"mt-2",children:(0,jsx_runtime.jsx)("div",{className:"text-gray-900",children})}),(0,jsx_runtime.jsxs)("div",{className:"mt-8 flex flex-col-reverse gap-3 sm:flex-row sm:justify-end",children:[(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"close-button",onClick:onClose,className:"inline-flex justify-center rounded-xl border border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 sm:w-auto",children:cancelButtonLabel}),onAccept&&(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"accept-button",onClick:function onClick(){return onAccept(modal)},className:"inline-flex justify-center rounded-xl bg-blue-600 px-6 py-3 text-sm font-medium text-white shadow-lg hover:bg-blue-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 sm:w-auto",children:acceptButtonLabel})]})]})})})]}):null}const Modal_Modal=Modal;Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{acceptButtonLabel:{defaultValue:{value:"'Aceptar'",computed:!1},required:!1},cancelButtonLabel:{defaultValue:{value:"'Cancelar'",computed:!1},required:!1},open:{defaultValue:{value:"true",computed:!1},required:!1}}};const components_Modal=Modal_Modal;var Radio=__webpack_require__("./src/components/Radio/index.js"),modals=__webpack_require__("./src/constants/modals.js"),_excluded=["modal","onAccept","open","onClose"];var getChildren=function getChildren(modal,_ref){var options=_ref.options,label=_ref.label,name=_ref.name;switch(modal){case modals.A.CONFIRM_DELETE_SECTION_MODAL:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"flex justify-center",children:(0,jsx_runtime.jsx)("p",{className:"font-bold",children:"Atención"})}),(0,jsx_runtime.jsx)("p",{children:"¿Esta seguro que desea borrar esta sección?"})]});case modals.A.INTERRUPTION_MODAL:return(0,jsx_runtime.jsx)(formik_esm.B0,{component:Radio.A,options,label,name});default:return null}};function Modals(_ref2){var modal=_ref2.modal,onAccept=_ref2.onAccept,_ref2$open=_ref2.open,open=void 0!==_ref2$open&&_ref2$open,onClose=_ref2.onClose,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref2,_excluded);return(0,jsx_runtime.jsx)(components_Modal,{open,modal,cancelButtonLabel:"Cerrar",onAccept,onClose,children:getChildren(modal,props)})}const Modals_Modals=Modals;Modals.__docgenInfo={description:"",methods:[],displayName:"Modals",props:{open:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./src/components/FormBuilder/SectionHeader/SectionHeader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SectionHeader_SectionHeader});var Icons=__webpack_require__("./src/components/Icons/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ActionButtons(_ref){var isSectionMultiple=_ref.isSectionMultiple,sectionsLength=_ref.sectionsLength,onEdit=_ref.onEdit,onDelete=_ref.onDelete,onView=_ref.onView,isReadOnly=_ref.isReadOnly,onMoveUp=_ref.onMoveUp,onMoveDown=_ref.onMoveDown,position=_ref.position,showEditButton=_ref.showEditButton;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"read-only-button",onClick:onView,className:"p-2 rounded-full text-yellow-600 hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2","aria-label":"View",children:(0,jsx_runtime.jsx)(Icons.bM,{})}),!isReadOnly&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sectionsLength>1&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[onMoveUp&&position>0&&(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"move-up-button",onClick:onMoveUp,className:"p-2 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Move up",children:(0,jsx_runtime.jsx)(Icons.Kp,{})}),onMoveDown&&position<sectionsLength-1&&(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"move-down-button",onClick:onMoveDown,className:"p-2 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Move down",children:(0,jsx_runtime.jsx)(Icons.ZL,{})})]}),showEditButton&&(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"edit-button",onClick:onEdit,className:"p-2 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Edit",children:(0,jsx_runtime.jsx)(Icons.qU,{})}),isSectionMultiple&&sectionsLength>1&&(0,jsx_runtime.jsx)("button",{type:"button","data-testid":"delete-button",onClick:onDelete,className:"p-2 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Delete",children:(0,jsx_runtime.jsx)(Icons.uc,{})})]})]})}const ActionButtons_ActionButtons=ActionButtons;ActionButtons.__docgenInfo={description:"",methods:[],displayName:"ActionButtons"};const SectionHeader_ActionButtons=ActionButtons_ActionButtons;var questionTypes=__webpack_require__("./src/constants/questionTypes.js");const defaultMessages_UNANSWERED="Sin respuesta.";const utils_getSelectedOptionLabel=function getSelectedOptionLabel(options,selectedOption){var _options$find,key=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return(null===(_options$find=options.find((function(option){return option[key]===selectedOption})))||void 0===_options$find?void 0:_options$find.label)||defaultMessages_UNANSWERED};function Headers(_ref){var section=_ref.section,values=_ref.values,headers=function getHeaders(questions,values,headers){if(headers.some((function(header){return header.question}))){var headerQuestions=headers.map((function(header){return header.question}));return questions.reduce((function(acc,question){var _values$question$name;if(headerQuestions.includes(question.id)&&!question.multiple&&null!==(_values$question$name=values[question.name].answer)&&void 0!==_values$question$name&&_values$question$name.value){var value=values[question.name].answer.value;[questionTypes.A.TEXT_FIELD,questionTypes.A.NUMERIC_FIELD].includes(question.type)?acc.push(value):acc.push(utils_getSelectedOptionLabel(question.options,value))}return acc}),[]).join(" | ")}return""}(section.questions,values,section.headers);return/<[^>]+>/g.test(headers)?(0,jsx_runtime.jsx)("p",{dangerouslySetInnerHTML:{__html:headers},className:"whitespace-pre-line"}):(0,jsx_runtime.jsx)("p",{children:headers})}const Headers_Headers=Headers;Headers.__docgenInfo={description:"",methods:[],displayName:"Headers"};const SectionHeader_Headers=Headers_Headers;function Introduction(_ref){var introduction=_ref.introduction;return introduction?/<[^>]+>/g.test(introduction)?(0,jsx_runtime.jsx)("p",{"data-testid":"introduction",className:"text-gray-600 font-bold whitespace-pre-line",dangerouslySetInnerHTML:{__html:introduction}}):(0,jsx_runtime.jsx)("p",{"data-testid":"introduction",className:"text-gray-600 font-bold whitespace-pre-line",children:introduction}):null}const Introduction_Introduction=Introduction;Introduction.__docgenInfo={description:"",methods:[],displayName:"Introduction"};const SectionHeader_Introduction=Introduction_Introduction;function TitleWithIcon(_ref){var title=_ref.title,isValid=_ref.isValid;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,jsx_runtime.jsx)("h6",{className:"text-xl font-bold",children:title}),isValid?(0,jsx_runtime.jsx)(Icons.C1,{className:"w-6 h-6 text-green-600","data-testid":"success-icon"}):(0,jsx_runtime.jsx)(Icons.IJ,{className:"w-6 h-6 text-red-600","data-testid":"error-icon"})]})}const TitleWithIcon_TitleWithIcon=TitleWithIcon;TitleWithIcon.__docgenInfo={description:"",methods:[],displayName:"TitleWithIcon"};const SectionHeader_TitleWithIcon=TitleWithIcon_TitleWithIcon;function SectionHeader(_ref){var section=_ref.section,sectionsLength=_ref.sectionsLength,onView=_ref.onView,onEdit=_ref.onEdit,onDelete=_ref.onDelete,values=_ref.values,_ref$isReadOnly=_ref.isReadOnly,isReadOnly=void 0!==_ref$isReadOnly&&_ref$isReadOnly,isValid=_ref.isValid,onMoveUp=_ref.onMoveUp,onMoveDown=_ref.onMoveDown,position=_ref.position,_ref$showEditButton=_ref.showEditButton,showEditButton=void 0===_ref$showEditButton||_ref$showEditButton;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap justify-between shadow-md p-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)(SectionHeader_TitleWithIcon,{title:section.label,isValid}),(0,jsx_runtime.jsx)(SectionHeader_Introduction,{introduction:section.introduction}),(0,jsx_runtime.jsx)(SectionHeader_Headers,{section,values})]}),(0,jsx_runtime.jsx)(SectionHeader_ActionButtons,{isSectionMultiple:section.multiple,sectionsLength,onEdit,onDelete,onView,onMoveDown,onMoveUp,isReadOnly,position,showEditButton})]})}const SectionHeader_SectionHeader=SectionHeader;SectionHeader.__docgenInfo={description:"",methods:[],displayName:"SectionHeader",props:{isReadOnly:{defaultValue:{value:"false",computed:!1},required:!1},showEditButton:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/components/Message/Message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Message(_ref){var message=_ref.message;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-bold text-[17px]",children:message})}const __WEBPACK_DEFAULT_EXPORT__=Message;Message.__docgenInfo={description:"",methods:[],displayName:"Message"}},"./src/components/NavigationButtons/NavigationButtons.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Icons/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function NavigationButtons(_ref){var onPrevious=_ref.onPrevious,_ref$disablePreviousB=_ref.disablePreviousButton,disablePreviousButton=void 0!==_ref$disablePreviousB&&_ref$disablePreviousB,onAddNew=_ref.onAddNew,onInterrupt=_ref.onInterrupt,_ref$readOnlyMode=_ref.readOnlyMode,readOnlyMode=void 0!==_ref$readOnlyMode&&_ref$readOnlyMode;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 md:gap-8 justify-between p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("button",{type:"button","data-testid":"back-button",onClick:onPrevious,disabled:disablePreviousButton,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_0__.A6,{className:"w-5 h-5 mr-2"}),"Anterior"]}),!readOnlyMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[onAddNew&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("button",{type:"button","data-testid":"add-new",onClick:onAddNew,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_0__.c1,{className:"w-5 h-5 mr-2"}),"Agregar nuevo"]}),onInterrupt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("button",{type:"button","data-testid":"interrupt-survey",onClick:onInterrupt,className:"flex items-center justify-center px-4 py-2 border border-red-300 rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_0__.uv,{className:"w-5 h-5 mr-2"}),"Interrumpir encuesta"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("button",{type:"submit",className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Siguiente",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_0__.fl,{className:"w-5 h-5 ml-2"})]})]})}const __WEBPACK_DEFAULT_EXPORT__=NavigationButtons;NavigationButtons.__docgenInfo={description:"",methods:[],displayName:"NavigationButtons",props:{disablePreviousButton:{defaultValue:{value:"false",computed:!1},required:!1},readOnlyMode:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./src/components/Radio/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/Radio/Radio.js").A},"./src/components/RadioTable/RadioTable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _FieldMessage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/FieldMessage/index.js"),_InputLabel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/InputLabel/index.js"),_Icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icons/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function RadioTable(_ref){var options=_ref.options,label=_ref.label,form=_ref.form,field=_ref.field,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_InputLabel__WEBPACK_IMPORTED_MODULE_1__.A,{warnings,form,field,label,disabled}),options.map((function(option){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"space-y-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"min-w-0 sm:min-w-96 sm:max-w-96 overflow-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("p",{className:"text-sm font-medium whitespace-normal ".concat(disabled?"opacity-50 text-gray-400":"text-gray-900"),children:option.title})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"flex flex-row flex-wrap items-center gap-4",children:[option.subOptions.map((function(subOption){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("label",{htmlFor:"".concat(field.name,"-").concat(option.name,"-").concat(subOption.value),"data-testid":"subOption-".concat(option.id,"-").concat(subOption.id),className:"group flex items-center space-x-4 p-2 rounded-lg transition-all duration-200 ".concat(disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{id:"".concat(field.name,"-").concat(option.name,"-").concat(subOption.value),type:"radio",name:"".concat(field.name,".").concat(option.name),value:subOption.value,checked:subOption.value===field.value[option.name],onChange:function onChange(e){return function handleChange(e,option,subOption){var value;if(subOption.exclusive)value=options.reduce((function(accumulator,currentValue){return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},currentValue.name,option.id===currentValue.id?e.target.value:void 0))}),{});else{var exclusiveOptions=options.reduce((function(acc,currentValue){return currentValue.subOptions.some((function(currentSubOption){return currentSubOption.exclusive}))&&(acc[currentValue.name]=currentValue.subOptions.filter((function(currentSubOption){return currentSubOption.exclusive}))),acc}),{});value=_objectSpread(_objectSpread({},field.value),{},_defineProperty({},option.name,e.target.value)),Object.keys(value).forEach((function(key){exclusiveOptions[key]&&exclusiveOptions[key].some((function(currentSubOption){return currentSubOption.value===value[key]}))&&(value[key]=void 0)}))}form.setFieldValue(field.name,value),form.setFieldTouched(field.name,!1)}(e,option,subOption)},disabled,className:"sr-only"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"w-6 h-6 border-2 rounded-full flex items-center justify-center transition-all duration-200 transform ".concat(subOption.value===field.value[option.name]?"bg-blue-600 border-blue-600 scale-100 shadow-md":"bg-white border-gray-300 scale-100"," ").concat(disabled?"opacity-50":""," focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2"),children:subOption.value===field.value[option.name]&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"w-2 h-2 bg-white rounded-full transform transition-transform duration-150 scale-110"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"select-none font-medium transition-colors duration-200 ".concat(disabled?"text-gray-400":"text-gray-900"),children:subOption.label})]},subOption.value)})),field.value[option.name]&&!disabled&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{type:"button",onClick:function onClick(){return form.setFieldValue("".concat(field.name,".").concat(option.name),void 0)},className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors duration-200","data-testid":"clean-option-".concat(option.id),"aria-label":"Clear selection",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_2__.d7,{})})]})]})},option.id)})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_FieldMessage__WEBPACK_IMPORTED_MODULE_0__.A,{warnings,form,field})]})}const __WEBPACK_DEFAULT_EXPORT__=RadioTable;RadioTable.__docgenInfo={description:"",methods:[],displayName:"RadioTable",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},warnings:{defaultValue:{value:"{}",computed:!1},required:!1}}}},"./src/components/Select/Select.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_FieldMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/FieldMessage/index.js"),_InputLabel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/InputLabel/index.js"),_Icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Icons/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function Select(_ref){var _ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,field=_ref.field,label=_ref.label,form=_ref.form,_ref$loading=_ref.loading,loading=void 0!==_ref$loading&&_ref$loading,onClean=_ref.onClean,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"[Seleccione]":_ref$placeholder,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$keyValue=_ref.keyValue,keyValue=void 0===_ref$keyValue?"value":_ref$keyValue,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isOpen=_useState2[0],setIsOpen=_useState2[1],selectedValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return options.find((function(option){return option[keyValue]===field.value}))||null}),[null==field?void 0:field.value,options,keyValue]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_InputLabel__WEBPACK_IMPORTED_MODULE_2__.A,{warnings,form,field,label,disabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",className:"w-full px-3 py-2 text-left bg-white border-2 border-gray-400 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 ".concat(disabled?"opacity-50 cursor-not-allowed bg-gray-50":"cursor-pointer hover:border-gray-500"),onClick:function onClick(){return!disabled&&setIsOpen(!isOpen)},onBlur:function onBlur(){form.handleBlur({target:{name:field.name}}),setTimeout((function(){return setIsOpen(!1)}),200)},disabled,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:selectedValue?"text-gray-900":"text-gray-500",children:selectedValue?selectedValue.label:placeholder}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[selectedValue&&!disabled&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function onClick(e){e.stopPropagation(),function handleClear(){form.setFieldValue(field.name,void 0),form.setFieldTouched(field.name,!1),onClean&&onClean(form)}()},className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors duration-200","aria-label":"Clear selection",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.uv,{className:"w-4 h-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.D3,{className:"w-5 h-5 text-gray-400 transition-transform duration-200 ".concat(isOpen?"rotate-180":"")})]})]}),isOpen&&!disabled&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:[loading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-3 py-2 text-gray-500",children:"Cargando..."}),!loading&&0===options.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-3 py-2 text-gray-500",children:"No hay opciones."}),options.length>0&&options.map((function(option){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 transition-colors duration-200 ".concat(selectedValue&&selectedValue[keyValue]===option[keyValue]?"bg-blue-100 text-blue-900":"text-gray-900"),onClick:function onClick(){return function handleChange(selectedValue){form.setFieldValue(field.name,selectedValue?selectedValue[keyValue]:void 0),form.setFieldTouched(field.name,!1),onClean&&onClean(form),setIsOpen(!1)}(option)},children:option.label},option[keyValue])}))]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_FieldMessage__WEBPACK_IMPORTED_MODULE_1__.A,{warnings,form,field})]})}const __WEBPACK_DEFAULT_EXPORT__=Select;Select.__docgenInfo={description:"",methods:[],displayName:"Select",props:{options:{defaultValue:{value:"[]",computed:!1},required:!1},loading:{defaultValue:{value:"false",computed:!1},required:!1},placeholder:{defaultValue:{value:"'[Seleccione]'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},keyValue:{defaultValue:{value:"'value'",computed:!1},required:!1},warnings:{defaultValue:{value:"{}",computed:!1},required:!1}}}},"./src/components/TextField/TextField.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_InputLabel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/InputLabel/index.js"),_FieldMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/FieldMessage/index.js"),_Icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Icons/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["form","field","placeholder","label","disabled","tooltip","warnings","multiline","className"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function TextField(_ref){var form=_ref.form,field=_ref.field,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"[Ingrese texto]":_ref$placeholder,label=_ref.label,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,tooltip=_ref.tooltip,_ref$warnings=_ref.warnings,warnings=void 0===_ref$warnings?{}:_ref$warnings,_ref$multiline=_ref.multiline,multiline=void 0!==_ref$multiline&&_ref$multiline,propClassName=_ref.className,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),showTooltip=_useState2[0],setShowTooltip=_useState2[1],handleBlur=function handleBlur(e){var event=e;field.onChange&&event.target.value&&(event.target.value=event.target.value.trim(),field.onChange(e))},baseClassName="w-full px-4 py-2 border-2 border-gray-400 rounded-lg bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",textareaClassName="".concat(baseClassName," resize-vertical"),finalClassName=propClassName?"".concat(baseClassName," ").concat(propClassName):baseClassName,finalTextareaClassName=propClassName?"".concat(textareaClassName," ").concat(propClassName):textareaClassName;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_InputLabel__WEBPACK_IMPORTED_MODULE_1__.A,{warnings,form,field,label,disabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[multiline?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("textarea",_objectSpread(_objectSpread({id:"field-".concat(field.name),placeholder,className:finalTextareaClassName},field),{},{onChange:function onChange(e){field.onChange(e),form.setFieldTouched(field.name,!1)},onBlur:handleBlur,disabled,rows:2,onWheel:function onWheel(e){return e.target.blur()}},props)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"field-".concat(field.name),placeholder,className:finalClassName},field),{},{onChange:function onChange(e){field.onChange(e),form.setFieldTouched(field.name,!1)},onBlur:handleBlur,disabled,onWheel:function onWheel(e){return e.target.blur()}},props)),tooltip&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none",onMouseEnter:function onMouseEnter(){return setShowTooltip(!0)},onMouseLeave:function onMouseLeave(){return setShowTooltip(!1)},onFocus:function onFocus(){return setShowTooltip(!0)},onBlur:function onBlur(){return setShowTooltip(!1)},"aria-label":"Show help tooltip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.uI,{})}),showTooltip&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 text-sm text-white bg-gray-900 rounded-md shadow-lg whitespace-nowrap z-10",children:[tooltip,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute top-full right-3 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_FieldMessage__WEBPACK_IMPORTED_MODULE_2__.A,{warnings,form,field})]})}const __WEBPACK_DEFAULT_EXPORT__=TextField;TextField.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{placeholder:{defaultValue:{value:"'[Ingrese texto]'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},warnings:{defaultValue:{value:"{}",computed:!1},required:!1},multiline:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./src/components/TextField/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/TextField/TextField.js").A},"./src/constants/modals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={INTERRUPTION_MODAL:2,CONFIRM_DELETE_SECTION_MODAL:3}}}]);